import{S as t,i as e,s,G as l,e as c,a,m as n,q as r,c as i,d as o,f as h,g as u,j as m,h as f,n as p,t as d,b as g,k as v,l as w,p as j,r as b}from"./client.bb5bc507.js";import{g as z,D as E}from"./bundle.esm.a297de33.js";function I(t,e,s){const l=t.slice();return l[1]=e[s],l[3]=s,l}function k(t){let e,s,l=t[4].message+"";return{c(){e=c("p"),s=d(l),this.h()},l(t){e=i(t,"P",{style:!0,class:!0});var c=g(e);s=v(c,l),c.forEach(o),this.h()},h(){w(e,"color","red"),u(e,"class","svelte-zpmijw")},m(t,l){f(t,e,l),m(e,s)},p(t,e){1&e&&l!==(l=t[4].message+"")&&j(s,l)},d(t){t&&o(e)}}}function y(t){let e,s=t[0],l=[];for(let e=0;e<s.length;e+=1)l[e]=G(I(t,s,e));return{c(){e=c("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=i(t,"DIV",{class:!0});var s=g(e);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(o),this.h()},h(){u(e,"class","content svelte-zpmijw")},m(t,s){f(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(t,c){if(1&c){let a;for(s=t[0],a=0;a<s.length;a+=1){const n=I(t,s,a);l[a]?l[a].p(n,c):(l[a]=G(n),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}},d(t){t&&o(e),b(l,t)}}}function x(t){let e,s,l;return{c(){e=c("img"),this.h()},l(t){e=i(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){e.src!==(s=L+t[1].image.url)&&u(e,"src",s),u(e,"alt",l=t[1].titre),u(e,"class","svelte-zpmijw")},m(t,s){f(t,e,s)},p(t,c){1&c&&e.src!==(s=L+t[1].image.url)&&u(e,"src",s),1&c&&l!==(l=t[1].titre)&&u(e,"alt",l)},d(t){t&&o(e)}}}function q(t){let e,s;return{c(){e=c("img"),this.h()},l(t){e=i(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){e.src!==(s="logo-512.png")&&u(e,"src","logo-512.png"),u(e,"alt","Blast logo"),u(e,"class","svelte-zpmijw")},m(t,s){f(t,e,s)},p:p,d(t){t&&o(e)}}}function G(t){let e,s,l,n,r,p,w,b,z,E,I=t[1].titre+"",k=t[1].contenu+"";function y(t,e){return null===t[1].image?q:x}let G=y(t),A=G(t);return{c(){e=c("div"),s=c("article"),l=c("h2"),n=d(I),r=a(),p=c("p"),w=d(k),b=a(),z=c("aside"),A.c(),E=a(),this.h()},l(t){e=i(t,"DIV",{class:!0});var c=g(e);s=i(c,"ARTICLE",{class:!0});var a=g(s);l=i(a,"H2",{class:!0});var u=g(l);n=v(u,I),u.forEach(o),r=h(a),p=i(a,"P",{class:!0});var m=g(p);w=v(m,k),m.forEach(o),a.forEach(o),b=h(c),z=i(c,"ASIDE",{class:!0});var f=g(z);A.l(f),f.forEach(o),E=h(c),c.forEach(o),this.h()},h(){u(l,"class","svelte-zpmijw"),u(p,"class","svelte-zpmijw"),u(s,"class","svelte-zpmijw"),u(z,"class","svelte-zpmijw"),u(e,"class","impair svelte-zpmijw")},m(t,c){f(t,e,c),m(e,s),m(s,l),m(l,n),m(s,r),m(s,p),m(p,w),m(e,b),m(e,z),A.m(z,null),m(e,E)},p(t,e){1&e&&I!==(I=t[1].titre+"")&&j(n,I),1&e&&k!==(k=t[1].contenu+"")&&j(w,k),G===(G=y(t))&&A?A.p(t,e):(A.d(1),A=G(t),A&&(A.c(),A.m(z,null)))},d(t){t&&o(e),A.d()}}}function A(t){let e,s;return{c(){e=c("p"),s=d("WAITING"),this.h()},l(t){e=i(t,"P",{class:!0});var l=g(e);s=v(l,"WAITING"),l.forEach(o),this.h()},h(){u(e,"class","test svelte-zpmijw")},m(t,l){f(t,e,l),m(e,s)},p:p,d(t){t&&o(e)}}}function D(t){let e,s,d,g,v={ctx:t,current:null,token:null,hasCatch:!0,pending:A,then:y,catch:k,value:0,error:4};return l(g=t[0],v),{c(){e=c("link"),s=a(),d=n(),v.block.c(),this.h()},l(t){const l=r('[data-svelte="svelte-de5yl2"]',document.head);e=i(l,"LINK",{rel:!0,href:!0}),l.forEach(o),s=h(t),d=n(),v.block.l(t),this.h()},h(){document.title="Le collectif",u(e,"rel","stylesheet"),u(e,"href","https://use.typekit.net/ixn1cjn.css")},m(t,l){m(document.head,e),f(t,s,l),f(t,d,l),v.block.m(t,v.anchor=l),v.mount=()=>d.parentNode,v.anchor=d},p(e,[s]){if(t=e,v.ctx=t,1&s&&g!==(g=t[0])&&l(g,v));else{const e=t.slice();e[0]=e[4]=v.resolved,v.block.p(e,s)}},i:p,o:p,d(t){o(e),t&&o(s),t&&o(d),v.block.d(t),v.token=null,v=null}}}const N=z`
    query membre {
      nouvelles(sort: "id:desc") {
        id
        titre
        contenu
        datePublication
        image {
          url
        }
      }
    }
  `;async function P(){const t=new E({uri:"https://www.grldfaure.xyz/graphql",fetch:this.fetch});return{news:(await t.query({query:N})).data.nouvelles}}let L="https://www.grldfaure.xyz";function T(t,e,s){let{news:l}=e;return t.$$set=t=>{"news"in t&&s(0,l=t.news)},[l]}export default class extends t{constructor(t){super(),e(this,t,T,D,s,{news:0})}}export{P as preload};
