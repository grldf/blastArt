import{S as t,i as e,s,e as l,t as a,a as r,c as n,b as o,d as i,f as c,g as h,h as f,j as g,k as u,l as d,m,n as v,o as p,p as w,q as S,r as x,u as $,v as q,w as E,x as y,y as b,z as k,A as T,B as j}from"./client.133bac4b.js";import{g as D,D as I}from"./bundle.esm.a297de33.js";function N(t){let e,s,p,w,S,x,$,q,E,y,b,k,T;return{c(){e=l("div"),s=l("div"),p=a(t[2]),w=a(" / "),S=a(t[3]),x=r(),$=l("img"),E=r(),y=l("div"),b=l("p"),k=l("a"),T=a(t[5]),this.h()},l(l){e=n(l,"DIV",{class:!0});var a=o(e);s=n(a,"DIV",{class:!0});var r=o(s);p=i(r,t[2]),w=i(r," / "),S=i(r,t[3]),r.forEach(c),x=h(a),$=n(a,"IMG",{src:!0,alt:!0,class:!0}),E=h(a),y=n(a,"DIV",{class:!0});var f=o(y);b=n(f,"P",{class:!0});var g=o(b);k=n(g,"A",{href:!0,class:!0});var u=o(k);T=i(u,t[5]),u.forEach(c),g.forEach(c),f.forEach(c),a.forEach(c),this.h()},h(){f(s,"class","numbertext svelte-1c1m2tq"),$.src!==(q=t[0])&&f($,"src",q),f($,"alt",t[1]),f($,"class","svelte-1c1m2tq"),f(k,"href",t[6]),f(k,"class","link svelte-1c1m2tq"),f(b,"class","svelte-1c1m2tq"),f(y,"class","infos svelte-1c1m2tq"),f(e,"class","mySlides svelte-1c1m2tq"),g(e,"show",t[4])},m(t,l){u(t,e,l),d(e,s),d(s,p),d(s,w),d(s,S),d(e,x),d(e,$),d(e,E),d(e,y),d(y,b),d(b,k),d(k,T)},p(t,[s]){4&s&&m(p,t[2]),8&s&&m(S,t[3]),1&s&&$.src!==(q=t[0])&&f($,"src",q),2&s&&f($,"alt",t[1]),32&s&&m(T,t[5]),64&s&&f(k,"href",t[6]),16&s&&g(e,"show",t[4])},i:v,o:v,d(t){t&&c(e)}}}function U(t,e,s){let{imageUrl:l}=e,{alternText:a}=e,{slideNo:r}=e,{totalSlide:n}=e,{imageShowing:o}=e,{infos:i}=e,{slug:c}=e;return t.$$set=t=>{"imageUrl"in t&&s(0,l=t.imageUrl),"alternText"in t&&s(1,a=t.alternText),"slideNo"in t&&s(2,r=t.slideNo),"totalSlide"in t&&s(3,n=t.totalSlide),"imageShowing"in t&&s(4,o=t.imageShowing),"infos"in t&&s(5,i=t.infos),"slug"in t&&s(6,c=t.slug)},[l,a,r,n,o,i,c]}class A extends t{constructor(t){super(),e(this,t,U,N,s,{imageUrl:0,alternText:1,slideNo:2,totalSlide:3,imageShowing:4,infos:5,slug:6})}}function P(t,e,s){const l=t.slice();return l[4]=e[s],l}function V(t){let e,s;return e=new A({props:{imageUrl:G+t[4].cover.url,alternText:t[4].titre,slideNo:t[1],totalSlide:t[0].length,imageShowing:-1*t[4].idP+t[0].length+1===t[1],infos:t[4].titre,slug:L+t[4].Slug}}),{c(){p(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){S(e,t,l),s=!0},p(t,s){const l={};1&s&&(l.imageUrl=G+t[4].cover.url),1&s&&(l.alternText=t[4].titre),2&s&&(l.slideNo=t[1]),1&s&&(l.totalSlide=t[0].length),3&s&&(l.imageShowing=-1*t[4].idP+t[0].length+1===t[1]),1&s&&(l.infos=t[4].titre),1&s&&(l.slug=L+t[4].Slug),e.$set(l)},i(t){s||(x(e.$$.fragment,t),s=!0)},o(t){$(e.$$.fragment,t),s=!1},d(t){q(e,t)}}}function z(t){let e,s,g,m,v,p,w,S,q,D,I,N,U=t[0],A=[];for(let e=0;e<U.length;e+=1)A[e]=V(P(t,U,e));const z=t=>$(A[t],1,1,(()=>{A[t]=null}));return{c(){e=r(),s=l("div"),g=l("div");for(let t=0;t<A.length;t+=1)A[t].c();m=r(),v=l("a"),p=a("❮"),w=r(),S=l("a"),q=a("❯"),this.h()},l(t){E('[data-svelte="svelte-u4ofl0"]',document.head).forEach(c),e=h(t),s=n(t,"DIV",{});var l=o(s);g=n(l,"DIV",{class:!0});var a=o(g);for(let t=0;t<A.length;t+=1)A[t].l(a);a.forEach(c),m=h(l),v=n(l,"A",{href:!0,class:!0});var r=o(v);p=i(r,"❮"),r.forEach(c),w=h(l),S=n(l,"A",{href:!0,class:!0});var f=o(S);q=i(f,"❯"),f.forEach(c),l.forEach(c),this.h()},h(){document.title="BlastART",f(g,"class","container svelte-1b73k3d"),f(v,"href","#arrowL"),f(v,"class","prev svelte-1b73k3d"),f(S,"href","#arrowR"),f(S,"class","next svelte-1b73k3d")},m(l,a){u(l,e,a),u(l,s,a),d(s,g);for(let t=0;t<A.length;t+=1)A[t].m(g,null);d(s,m),d(s,v),d(v,p),d(s,w),d(s,S),d(S,q),D=!0,I||(N=[y(v,"click",t[2]),y(S,"click",t[3])],I=!0)},p(t,[e]){if(3&e){let s;for(U=t[0],s=0;s<U.length;s+=1){const l=P(t,U,s);A[s]?(A[s].p(l,e),x(A[s],1)):(A[s]=V(l),A[s].c(),x(A[s],1),A[s].m(g,null))}for(j(),s=U.length;s<A.length;s+=1)z(s);b()}},i(t){if(!D){for(let t=0;t<U.length;t+=1)x(A[t]);D=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)$(A[t]);D=!1},d(t){t&&c(e),t&&c(s),k(A,t),I=!1,T(N)}}}const B=D`
	query cover{
	  projets(sort:"date:desc"){
		id
		idP
		titre
		cover {
		  url
		}
		Slug
	  }
	}
  `;async function R({params:t,query:e}){const s=new I({uri:"https://www.grldfaure.xyz/graphql",fetch:this.fetch});return{posts:(await s.query({query:B})).data.projets}}const G="https://www.grldfaure.xyz",L="Projet/";function M(t,e,s){let{posts:l}=e,a=1;return t.$$set=t=>{"posts"in t&&s(0,l=t.posts)},[l,a,()=>{s(1,1===a?a=l.length:a-=1)},()=>{a===l.length?s(1,a=1):s(1,a+=1)}]}export default class extends t{constructor(t){super(),e(this,t,M,z,s,{posts:0})}}export{R as preload};
