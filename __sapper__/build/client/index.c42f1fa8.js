import{S as e,i as t,s,e as a,t as l,a as r,c as n,b as i,k as o,d as c,f,g as h,p as g,h as u,j as d,m as p,n as m,x as v,y as w,z as S,w as x,A as $,B as E,u as y,C as D,o as j,D as I,E as N}from"./client.a2125502.js";import{g as T,D as U}from"./bundle.esm.a297de33.js";function b(e){let t,s,v,w,S,x,$,E,y,D,j,I,N;return{c(){t=a("div"),s=a("div"),v=l(e[2]),w=l(" / "),S=l(e[3]),x=r(),$=a("img"),y=r(),D=a("div"),j=a("p"),I=a("a"),N=l(e[5]),this.h()},l(a){t=n(a,"DIV",{class:!0});var l=i(t);s=n(l,"DIV",{class:!0});var r=i(s);v=o(r,e[2]),w=o(r," / "),S=o(r,e[3]),r.forEach(c),x=f(l),$=n(l,"IMG",{src:!0,alt:!0,class:!0}),y=f(l),D=n(l,"DIV",{class:!0});var h=i(D);j=n(h,"P",{class:!0});var g=i(j);I=n(g,"A",{href:!0,class:!0});var u=i(I);N=o(u,e[5]),u.forEach(c),g.forEach(c),h.forEach(c),l.forEach(c),this.h()},h(){h(s,"class","numbertext svelte-87fpw4"),$.src!==(E=e[0])&&h($,"src",E),h($,"alt",e[1]),h($,"class","svelte-87fpw4"),h(I,"href",e[6]),h(I,"class","link svelte-87fpw4"),h(j,"class","svelte-87fpw4"),h(D,"class","infos svelte-87fpw4"),h(t,"class","mySlides svelte-87fpw4"),g(t,"show",e[4])},m(e,a){u(e,t,a),d(t,s),d(s,v),d(s,w),d(s,S),d(t,x),d(t,$),d(t,y),d(t,D),d(D,j),d(j,I),d(I,N)},p(e,[s]){4&s&&p(v,e[2]),8&s&&p(S,e[3]),1&s&&$.src!==(E=e[0])&&h($,"src",E),2&s&&h($,"alt",e[1]),32&s&&p(N,e[5]),64&s&&h(I,"href",e[6]),16&s&&g(t,"show",e[4])},i:m,o:m,d(e){e&&c(t)}}}function V(e,t,s){let{imageUrl:a}=t,{alternText:l}=t,{slideNo:r}=t,{totalSlide:n}=t,{imageShowing:i}=t,{infos:o}=t,{slug:c}=t;return e.$$set=e=>{"imageUrl"in e&&s(0,a=e.imageUrl),"alternText"in e&&s(1,l=e.alternText),"slideNo"in e&&s(2,r=e.slideNo),"totalSlide"in e&&s(3,n=e.totalSlide),"imageShowing"in e&&s(4,i=e.imageShowing),"infos"in e&&s(5,o=e.infos),"slug"in e&&s(6,c=e.slug)},[a,l,r,n,i,o,c]}class k extends e{constructor(e){super(),t(this,e,V,b,s,{imageUrl:0,alternText:1,slideNo:2,totalSlide:3,imageShowing:4,infos:5,slug:6})}}function q(e,t,s){const a=e.slice();return a[4]=t[s],a}function A(e){let t,s;return t=new k({props:{imageUrl:C+e[4].cover.url,alternText:e[4].titre,slideNo:e[1],totalSlide:e[0].length,imageShowing:-1*e[4].idP+e[0].length+1===e[1],infos:e[4].titre,slug:G+e[4].Slug}}),{c(){v(t.$$.fragment)},l(e){w(t.$$.fragment,e)},m(e,a){S(t,e,a),s=!0},p(e,s){const a={};1&s&&(a.imageUrl=C+e[4].cover.url),1&s&&(a.alternText=e[4].titre),2&s&&(a.slideNo=e[1]),1&s&&(a.totalSlide=e[0].length),3&s&&(a.imageShowing=-1*e[4].idP+e[0].length+1===e[1]),1&s&&(a.infos=e[4].titre),1&s&&(a.slug=G+e[4].Slug),t.$set(a)},i(e){s||(x(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){E(t,e)}}}function P(e){let t,s,g,p,m,v,w,S,E,T,U,b=e[0],V=[];for(let t=0;t<b.length;t+=1)V[t]=A(q(e,b,t));const k=e=>$(V[e],1,1,(()=>{V[e]=null}));return{c(){t=a("div"),s=a("div");for(let e=0;e<V.length;e+=1)V[e].c();g=r(),p=a("a"),m=l("❮"),v=r(),w=a("a"),S=l("❯"),this.h()},l(e){t=n(e,"DIV",{});var a=i(t);s=n(a,"DIV",{class:!0});var l=i(s);for(let e=0;e<V.length;e+=1)V[e].l(l);l.forEach(c),g=f(a),p=n(a,"A",{href:!0,class:!0});var r=i(p);m=o(r,"❮"),r.forEach(c),v=f(a),w=n(a,"A",{href:!0,class:!0});var h=i(w);S=o(h,"❯"),h.forEach(c),a.forEach(c),this.h()},h(){h(s,"class","container svelte-1mpw5tt"),h(p,"href","blast/#arrowL"),h(p,"class","prev svelte-1mpw5tt"),h(w,"href","blast/#arrowR"),h(w,"class","next svelte-1mpw5tt")},m(a,l){u(a,t,l),d(t,s);for(let e=0;e<V.length;e+=1)V[e].m(s,null);d(t,g),d(t,p),d(p,m),d(t,v),d(t,w),d(w,S),E=!0,T||(U=[y(p,"click",e[2]),y(w,"click",e[3])],T=!0)},p(e,[t]){if(3&t){let a;for(b=e[0],a=0;a<b.length;a+=1){const l=q(e,b,a);V[a]?(V[a].p(l,t),x(V[a],1)):(V[a]=A(l),V[a].c(),x(V[a],1),V[a].m(s,null))}for(N(),a=b.length;a<V.length;a+=1)k(a);D()}},i(e){if(!E){for(let e=0;e<b.length;e+=1)x(V[e]);E=!0}},o(e){V=V.filter(Boolean);for(let e=0;e<V.length;e+=1)$(V[e]);E=!1},d(e){e&&c(t),j(V,e),T=!1,I(U)}}}const z=T`
   query cover{
     projets(sort:"date:desc"){
       id
       idP
       titre
       cover {
         url
       }
       Slug
     }
   }
 `;async function B(){const e=new U({uri:"https://grldfaure.xyz/graphql",fetch:this.fetch});return{presentation:(await e.query({query:z})).data.projets}}const C="https://grldfaure.xyz",G="projet/";function L(e,t,s){let{presentation:a}=t,l=1;return e.$$set=e=>{"presentation"in e&&s(0,a=e.presentation)},[a,l,()=>{s(1,1===l?l=a.length:l-=1)},()=>{l===a.length?s(1,l=1):s(1,l+=1)}]}export default class extends e{constructor(e){super(),t(this,e,L,P,s,{presentation:0})}}export{B as preload};
